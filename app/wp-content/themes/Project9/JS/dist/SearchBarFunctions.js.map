{"version":3,"sources":["SearchBarFunctions.ts"],"names":[],"mappings":"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","file":"SearchBarFunctions.js","sourcesContent":["//Search Bar Functions\r\nconst setSearchResultsHeight : (searchBar : HTMLElement) => void = (searchBar) => {\r\n    const searchResults : any = searchBar.getElementsByClassName(\"searchResults\")[0];\r\n\r\n    if (!searchResults) { return; }\r\n\r\n    const searchResultsInner : any = searchResults.getElementsByClassName(\"inner\")[0];\r\n\r\n    if (!searchResultsInner) { return; }\r\n\r\n    searchResults.style.height = searchResultsInner.clientHeight + \"px\";\r\n\r\n    return;\r\n}\r\nconst setSeachParameters : () => void = () => {\r\n    const eventTarget : any = event.currentTarget || event.target;\r\n\r\n    if (!eventTarget) { return; }\r\n\r\n    const searchBar : any = eventTarget.closest(\".SearchBar\");\r\n    const searchInput : any = document.getElementById(\"search-value\");\r\n    const postPermalinkContianer : any = document.getElementById(\"search-postPermalink\");\r\n    const itemPermalink : string = eventTarget.getAttribute(\"data-search-result-permalink\") ; \"\";\r\n    const searchResults : any = document.getElementById(\"search-results\");\r\n\r\n    if (!searchBar || !searchInput || !postPermalinkContianer || !itemPermalink || !searchResults) { return; }\r\n\r\n    searchInput.value = eventTarget.innerText;\r\n    postPermalinkContianer.value = itemPermalink;\r\n    searchResults.innerHTML = null;\r\n    searchBar.classList.remove(\"set\");\r\n    searchBar.classList.remove(\"loading\");\r\n\r\n    setSearchResultsHeight(searchBar);\r\n\r\n    return; \r\n}\r\n\r\nconst handleSearchResultsSuccess : (response : any) => void = (response) => {\r\n    const searchResults : any = document.getElementById(\"search-results\");\r\n\r\n    if (!searchResults) { return; }\r\n\r\n    const searchBar : any = searchResults.closest(\".SearchBar\");\r\n\r\n    if (!searchBar) { return; }\r\n    \r\n    if (!response) { response = \"<div class='noResults'><p class='color-white'>No results found.</p></div>\"; }\r\n\r\n    searchResults.innerHTML = response;\r\n    searchBar.classList.remove(\"loading\");\r\n    searchBar.classList.add(\"set\");\r\n\r\n    setSearchResultsHeight(searchBar);\r\n\r\n    return;\r\n}\r\nconst handleSearchResultsError : (response : any) => void = (response) => {\r\n\r\n    return;\r\n}\r\nconst handleSearchSubmission : () => void = () => {\r\n    event.preventDefault();\r\n\r\n    const eventTarget : any = event.currentTarget || event.target;\r\n    const postPermalinkContianer : any = document.getElementById(\"search-postPermalink\");\r\n\r\n    if (!eventTarget || !postPermalinkContianer) { return; }\r\n\r\n    if (postPermalinkContianer.value) { window.location.assign(postPermalinkContianer.value); return; }\r\n\r\n    eventTarget.submit();\r\n\r\n    return;\r\n}\r\n\r\nconst clearSeachParameters : (searchBar : HTMLElement) => void = (searchBar) => {\r\n    const postPermalinkContianer : any = document.getElementById(\"search-postPermalink\");\r\n\r\n    if (!searchBar || !postPermalinkContianer) { return; }\r\n\r\n    postPermalinkContianer.value = null;\r\n\r\n    return; \r\n}\r\n\r\nconst getSearchResults : () => void = () => {\r\n    const eventTarget : any = event.currentTarget || event.target;\r\n\r\n    if (!eventTarget) { return; }\r\n\r\n    const searchBar : any = eventTarget.closest(\".SearchBar\");\r\n    const searchResults : any = document.getElementById(\"search-results\");\r\n\r\n    if (!searchBar || !searchResults) { return; }\r\n\r\n    const postType : string = searchBar.getAttribute(\"data-search-post-type\") ? searchBar.getAttribute(\"data-search-post-type\") : \"any\";\r\n    const postsPerPage : string = searchBar.getAttribute(\"data-search-post-count\") || \"\";\r\n    const postsPerPageValue : number = !isNaN(parseInt(postsPerPage)) ? parseInt(postsPerPage) : 3;\r\n    const searchValue : string = eventTarget.value || \"\";\r\n    const searchData : any = {\r\n        action       : \"getSearchResults\",\r\n        postType     : postType,\r\n        postsPerPage : postsPerPageValue,\r\n        postSearch   : searchValue\r\n    };\r\n\r\n    searchResults.innerHTML = null;\r\n    searchBar.classList.remove(\"set\");\r\n    searchBar.classList.add(\"loading\");\r\n\r\n    setSearchResultsHeight(searchBar);\r\n    clearSeachParameters(searchBar);\r\n\r\n    $.ajax({\r\n        type     : 'GET',\r\n        url      : '/wp-admin/admin-ajax.php',\r\n        dataType : 'html',\r\n        data     : searchData,\r\n\r\n        success : (response : any) => {\r\n            handleSearchResultsSuccess(response);\r\n        },\r\n\r\n        error : (response : any) => {\r\n            handleSearchResultsError(response);\r\n        }\r\n    });\r\n}"]}