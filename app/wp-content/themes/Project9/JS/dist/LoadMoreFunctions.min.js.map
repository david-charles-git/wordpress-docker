{"version":3,"sources":["LoadMoreFunctions.ts"],"names":["setLoadMoreResultsHeight","loadMoreFeed","loadMoreOuter","getElementsByClassName","loadMoreInner","style","height","clientHeight","setLoadMoreFeedostOffset","items","setAttribute","length","handleLoadMoreResultsSuccess","response","jsonResponse","JSON","parse","allPostsDispalyed","classList","add","innerHTML","content","remove","handleLoadMoreResultsError","getLoadMoreResults","eventTarget","event","currentTarget","target","closest","document","postType","getAttribute","postsPerPage","postOffest","loadMoreData","action","isNaN","parseInt","postOffset","searchValue","$","ajax","type","url","dataType","data","success","error"],"mappings":"AACA,IAAMA,yBAAkE,SAACC,GACrE,GAAKA,EAAL,CAEA,IAAMC,EAAsBD,EAAaE,uBAAuB,SAAS,GACnEC,EAAsBH,EAAaE,uBAAuB,SAAS,GAEpEC,GAAkBF,IAEvBA,EAAcG,MAAMC,OAASF,EAAcG,aAAe,QAIxDC,yBAAkE,SAACP,GACrE,GAAKA,EAAL,CAEA,IAAMQ,EAAcR,EAAaE,uBAAuB,QAExDF,EAAaS,aAAa,6BAA8BD,EAAME,UAK5DC,6BAAsF,SAACC,EAAUZ,GACnG,GAAKA,EAAL,CAEA,IAAMG,EAAsBH,EAAaE,uBAAuB,SAAS,GAEzE,GAAKC,EAAL,CAEA,IAAMU,EAAqBC,KAAKC,MAAMH,GAElCC,EAAaG,mBAAqBhB,EAAaiB,UAAUC,IAAI,OAEjEf,EAAcgB,UAAYhB,EAAcgB,UAAYN,EAAaO,QACjEpB,EAAaiB,UAAUI,OAAO,WAC9BrB,EAAaiB,UAAUC,IAAI,OAE3BnB,yBAAyBC,GACzBO,yBAAyBP,MAIvBsB,2BAAoF,SAACV,EAAUZ,KAO/FuB,mBAAkC,WACpC,IAAMC,EAAoBC,MAAMC,eAAiBD,MAAME,OAEvD,GAAKH,EAAL,CAEA,IAAMxB,EAAqBwB,EAAYI,QAAQ,iBACzCzB,EAAsB0B,SAAS3B,uBAAuB,SAAS,GAErE,GAAKF,GAAiBG,EAAtB,CAEA,IAAM2B,EAAoB9B,EAAa+B,aAAa,6BAA+B,MAC7EC,EAAwBhC,EAAa+B,aAAa,kCAAoC,GACtFE,EAAsBjC,EAAa+B,aAAa,+BAAiC,GAIjFG,EAAqB,CACvBC,OAAe,qBACfL,SAAeA,EACfE,aANgCI,MAAMC,SAASL,IAA0C,EAAzBK,SAASL,GAOzEM,WAN8BF,MAAMC,SAASJ,IAAsC,EAAvBI,SAASJ,GAOrEM,YANyBvC,EAAa+B,aAAa,gCAAkC,IASzF/B,EAAaiB,UAAUI,OAAO,OAC9BrB,EAAaiB,UAAUC,IAAI,WAE3BnB,yBAAyBC,GAEzBwC,EAAEC,KAAK,CACHC,KAAW,MACXC,IAAW,2BACXC,SAAW,OACXC,KAAWX,EAEXY,QAAU,SAAClC,GACPD,6BAA6BC,EAAUZ,IAG3C+C,MAAQ,SAACnC,GACLU,2BAA2BV,EAAUZ","file":"LoadMoreFunctions.min.js","sourcesContent":["//Load More Functions\r\nconst setLoadMoreResultsHeight : (loadMoreFeed : HTMLElement) => void = (loadMoreFeed) => {\r\n    if (!loadMoreFeed) { return; }\r\n\r\n    const loadMoreOuter : any = loadMoreFeed.getElementsByClassName(\"outer\")[0];\r\n    const loadMoreInner : any = loadMoreFeed.getElementsByClassName(\"inner\")[0];\r\n\r\n    if (!loadMoreInner || !loadMoreOuter) { return; }\r\n\r\n    loadMoreOuter.style.height = loadMoreInner.clientHeight + \"px\";\r\n\r\n    return;\r\n}\r\nconst setLoadMoreFeedostOffset : (loadMoreFeed : HTMLElement) => void = (loadMoreFeed) => {\r\n    if (!loadMoreFeed) { return; }\r\n\r\n    const items : any = loadMoreFeed.getElementsByClassName(\"item\");\r\n\r\n    loadMoreFeed.setAttribute(\"data-load-more-post-offset\", items.length);\r\n\r\n    return;\r\n}\r\n\r\nconst handleLoadMoreResultsSuccess : (response : any, loadMoreFeed : HTMLElement) => void = (response, loadMoreFeed) => {\r\n    if (!loadMoreFeed) { return; }\r\n\r\n    const loadMoreInner : any = loadMoreFeed.getElementsByClassName(\"inner\")[0];\r\n\r\n    if (!loadMoreInner) { return; }\r\n\r\n    const jsonResponse : any = JSON.parse(response);\r\n\r\n    if (jsonResponse.allPostsDispalyed) { loadMoreFeed.classList.add(\"end\"); }\r\n\r\n    loadMoreInner.innerHTML = loadMoreInner.innerHTML + jsonResponse.content;\r\n    loadMoreFeed.classList.remove(\"loading\");\r\n    loadMoreFeed.classList.add(\"set\");\r\n\r\n    setLoadMoreResultsHeight(loadMoreFeed);\r\n    setLoadMoreFeedostOffset(loadMoreFeed);\r\n\r\n    return;\r\n}\r\nconst handleLoadMoreResultsError : (response : any, loadMoreFeed : HTMLElement) => void = (response, loadMoreFeed) => {\r\n    if (!loadMoreFeed) { return; }\r\n    \r\n\r\n    return;\r\n}\r\n\r\nconst getLoadMoreResults : () => void = () => {\r\n    const eventTarget : any = event.currentTarget || event.target;\r\n\r\n    if (!eventTarget) { return; }\r\n\r\n    const loadMoreFeed : any = eventTarget.closest(\".LoadMoreFeed\");\r\n    const loadMoreInner : any = document.getElementsByClassName(\"inner\")[0];\r\n\r\n    if (!loadMoreFeed || !loadMoreInner) { return; }\r\n\r\n    const postType : string = loadMoreFeed.getAttribute(\"data-load-more-post-type\") || \"any\";\r\n    const postsPerPage : string = loadMoreFeed.getAttribute(\"data-load-more-posts-per-page\") || \"\";\r\n    const postOffest : string = loadMoreFeed.getAttribute(\"data-load-more-post-offset\") || \"\";\r\n    const postsPerPageValue : number = !isNaN(parseInt(postsPerPage)) ? parseInt(postsPerPage) : 9;\r\n    const postOffestValue : number = !isNaN(parseInt(postOffest)) ? parseInt(postOffest) : 0;\r\n    const searchValue : string = loadMoreFeed.getAttribute(\"data-load-more-search-value\") || \"\";\r\n    const loadMoreData : any = {\r\n        action       : \"getLoadMoreResults\",\r\n        postType     : postType,\r\n        postsPerPage : postsPerPageValue,\r\n        postOffset   : postOffestValue,\r\n        searchValue  : searchValue\r\n    };\r\n\r\n    loadMoreFeed.classList.remove(\"set\");\r\n    loadMoreFeed.classList.add(\"loading\");\r\n\r\n    setLoadMoreResultsHeight(loadMoreFeed);\r\n\r\n    $.ajax({\r\n        type     : 'GET',\r\n        url      : '/wp-admin/admin-ajax.php',\r\n        dataType : 'html',\r\n        data     : loadMoreData,\r\n\r\n        success : (response : any) => {\r\n            handleLoadMoreResultsSuccess(response, loadMoreFeed);\r\n        },\r\n\r\n        error : (response : any) => {\r\n            handleLoadMoreResultsError(response, loadMoreFeed);\r\n        }\r\n    });\r\n}"]}